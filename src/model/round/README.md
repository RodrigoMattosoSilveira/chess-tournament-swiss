# round
Model a tournament round

# Model
A round is a collection of games between a tournament's players.

In a `classical tournament`, with `n` players, we have `(n-1)` rounds; there is an interesting exception where all players play each other twice, once with white and again with black pieces.

In a `match`, with two players, the number of rounds is defined by match rules, ranging from a playing a pre-defined number of games, reaching a certain number of points - in some cases draws do not count- etc.

In a `swiss pairing` tournament, the number of rounds is defined by tournament rules; in this case, the number of rounds also establishes the maximum number of players, to avoid the possibility of too many players with the top scores.

Regardless, we will focus on `swiss pairing` tournament for now.
````typescript
export interface RoundDto {
	id?: string;					// generated by the server
	tournament: string;				// required, must exist
    number: number;                 // round's order in time
	games?: Array<string>           // Ids of the round's games, []*
	state?:string; 		            // scheduled*, underway, complete
    started?: number                 // milliseconds since epoch to date (date when transioned to underway)
    ended?: number                   // milliseconds since epoch to date (date when transioned to complete)
}
````

Note that the only attribute required to create a `round` is the `tournament`. All other values are set to their defaults.
* id? - Is generated when creating a round;
* tournament - the generated tournament id;
* games - default is `[]`;
* state - default is `scheduled`;
* playedAgainst - default is `[]`;
* playedColor - default is `[]`;
* started - default is `NAN`; it is created when `round` transitions to `underway`
* state - default is `NAN`; ; it is created when `round` transitions to `complete`

## Workflow**
* I, as a Player, sign up for a tournament;
* I, as a TD, create a tournament round;
* I, as a TD, trigger a tournament round scheduling;
* I, as the system, create a tournament round's games;
* I, as a TD, start a tournament round;
* I, as a tournament round game's white pieces' player, start a tournament round's game;
* I, as a tournament round game's player or as the TD, record a tournament round game result;
* I, as the system, when recording a tournament round game result, check whether the tournament round is complete;
* I, as the system, when recording a tournament round completion, check whether the tournament is complete;

#curl
## GET
### All rounds
Use the following `curl` command to retrieve all rounds:
````bash
curl --location --request GET 'localhost:3000/round' --header 'Content-Type: application/json'
````

Once executed, the service returns a collection of rounds
````json
[
  { }, {}
]
````

See the RoundDto above for details on the player model.

### A particular round
Use the following `curl` command to retrieve all rounds:
````bash
curl --location --request GET 'localhost:3000/player' --header 'Content-Type: application/json'
````

Once executed, the service returns a collection of rounds
````json
[
  { }, {}
]
````
